# SevenEngine的渲染模块
* 在游戏引擎的设计中，渲染模块设计的好坏与否会对性能，以及扩展性产生一个较大的影响，在这里我们对SevenEngine的渲染模块的设计进行一个粗略的叙述，但具体的思考过程就不在这里展示了
* 渲染模块的详细设计
    * 在一帧的渲染中，以FrameResource为核心，逻辑线程，渲染线程，以及GPU轮流对同一个FrameResource进行操作，以得到最终的结果
    * 为了避免不必要的同步操作，我们对FrameResource进行内容分层，并且确保逻辑线程，渲染县城，GPU只能访问到其中的一部分内容，同时在明确这部分内容不会再被继续访问时，标识相应的线程可以停止相应的阻塞
        * 具体的分层设计中，我们将FrameResource分为了存在交叉的两部分内容
            * 会被渲染线程和逻辑线程所访问到的数据：数据(Game_Render)
            * 会被渲染线程和GPU访问到的数据：数据(Render_GPU)
        * 其中数据(Game_Render)的访问顺序是这样
            * 步骤1 游戏线程请求FrameResource
            * 步骤2 由游戏线程进行访问，期间可能会进行填充数据等操作
            * 步骤3 游戏线程访问结束，渲染线程可以开始0
            * 步骤4 由逻辑线程进行访问，包括数据填充或其他操作
            * 步骤5 逻辑线程访问结束，逻辑线程可以重新请求到当前的FrameResource
        * 数据(Render_GPU)的访问顺序基本一致
            * 步骤1 逻辑线程请求FrameResource 
                * 在这里的FrameResource中，包含GPU资源
            * 步骤2 由逻辑线程进行访问，进行数据填充，更新等操作，包括GPU资源的创建和释放
            * 步骤3 逻辑线程访问结束
            * 步骤4 GPU执行任务
            * 步骤5 GPU执行到相应的Fence标识，使得渲染线程知晓FrameResource可以被重用
    